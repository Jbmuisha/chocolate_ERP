{% extends 'layout.html' %}
{% block content %}
<section class="px-4 sm:px-6 lg:px-8 py-6 max-w-md mx-auto">
  <h2 class="text-xl font-semibold text-rose-600 mb-4">
    {{ 'Edit Product' if product else 'Add New Product' }}
  </h2>

  <form method="POST" enctype="multipart/form-data" class="space-y-4">
    <div>
      <label for="name" class="block mb-1 font-semibold">Name</label>
      <input
        type="text"
        id="name"
        name="name"
        value="{{ product.name if product else '' }}"
        required
        class="w-full border rounded px-3 py-2"
      />
    </div>

    <div>
      <label for="category" class="block mb-1 font-semibold">Category</label>
      <select
        id="category"
        name="category"
        required
        class="w-full border rounded px-3 py-2"
      >
        <option value="" disabled {% if not product %}selected{% endif %}>Select category</option>
        <option value="chocolate" {% if product and product.category == 'chocolate' %}selected{% endif %}>Chocolate</option>
        <option value="candy" {% if product and product.category == 'candy' %}selected{% endif %}>Candy</option>
        <option value="gifts" {% if product and product.category == 'gifts' %}selected{% endif %}>Gifts</option>
      </select>
    </div>

    <div>
      <label for="price" class="block mb-1 font-semibold">Price</label>
      <input
        type="number"
        step="0.01"
        id="price"
        name="price"
        value="{{ product.price if product else '' }}"
        required
        class="w-full border rounded px-3 py-2"
      />
    </div>

    <div>
      <label for="image" class="block mb-1 font-semibold">
        {{ 'Change Image (optional)' if product else 'Product Image (JPEG or WEBP)' }}
      </label>
      <input
        type="file"
        id="image"
        name="image"
        accept="image/jpeg,image/webp"
        class="w-full"
      />
    </div>

    <button
      type="submit"
      class="bg-rose-600 text-white px-4 py-2 rounded hover:bg-rose-700"
    >
      {{ 'Update Product' if product else 'Add Product' }}
    </button>
  </form>
</section>
{% endblock %}
