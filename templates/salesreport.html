{% extends 'layout.html' %} {% block content %}
{% if sales %}
  <div class="overflow-x-auto shadow rounded-lg">
    <table class="min-w-full text-sm text-left text-gray-700 bg-white">
      <thead class="bg-gray-100 text-gray-700 text-sm uppercase">
        <tr>
          <th class="px-4 py-3">#</th>
          <th class="px-4 py-3">Product</th>
          <th class="px-4 py-3">Qty</th>
          <th class="px-4 py-3">Payment</th>
          <th class="px-4 py-3">Customer</th>
          <th class="px-4 py-3">Date</th>
          <th class="px-4 py-3">Actions</th>
        </tr>
      </thead>
      <tbody class="divide-y">
        {% for sale in sales %}
        <tr class="hover:bg-gray-50">
          <td class="px-4 py-2">{{ loop.index }}</td>
          <td class="px-4 py-2">{{ sale.product }}</td>
          <td class="px-4 py-2">{{ sale.quantity }}</td>
          <td class="px-4 py-2 capitalize">{{ sale.payment_method }}</td>
          <td class="px-4 py-2">{{ sale.customer or '-' }}</td>
          <td class="px-4 py-2">
            {{ sale.sale_date.strftime('%Y-%m-%d %H:%M') }}
          </td>
          <td class="px-4 py-2 space-x-2">
            <a
              href="{{ url_for('edit_sale', sale_id=sale.id) }}"
              class="text-blue-600 hover:underline"
              >Edit</a
            >
            <form
              method="POST"
              action="{{ url_for('delete_sale', sale_id=sale.id) }}"
              class="inline"
              onsubmit="return confirm('Are you sure you want to delete this sale?');"
            >
              <button
                type="submit"
                class="text-red-600 hover:underline bg-transparent border-0 p-0 cursor-pointer"
              >
                Delete
              </button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <p class="text-gray-500">No sales records found.</p>
  {% endif %}
</div>
{% endblock %}