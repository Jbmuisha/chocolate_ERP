{% extends 'layout.html' %} {% block content %}
<div class="p-8 max-w-7xl mx-auto bg-white shadow-md rounded-xl">
  <h2
    class="text-4xl font-extrabold text-rose-600 mb-8 text-center tracking-tight"
  >
    Sales Records
  </h2>

  {% if sales %}
  <div class="overflow-x-auto">
    <table class="min-w-full divide-y divide-gray-200 text-sm">
      <thead class="bg-rose-50 text-rose-700 uppercase text-xs font-semibold">
        <tr>
          <th class="px-6 py-4 text-left">#</th>
          <th class="px-6 py-4 text-left">Product</th>
          <th class="px-6 py-4 text-left">Quantity</th>
          <th class="px-6 py-4 text-left">Payment</th>
          <th class="px-6 py-4 text-left">Customer</th>
          <th class="px-6 py-4 text-left">Date</th>
          <th class="px-6 py-4 text-left">Actions</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-100">
        {% for sale in sales %}
        <tr class="hover:bg-gray-50 transition duration-150 ease-in-out">
          <td class="px-6 py-4 font-medium text-gray-900">{{ loop.index }}</td>
          <td class="px-6 py-4">{{ sale.product }}</td>
          <td class="px-6 py-4">{{ sale.quantity }}</td>
          <td class="px-6 py-4 capitalize">{{ sale.payment_method }}</td>
          <td class="px-6 py-4">{{ sale.customer or 'â€”' }}</td>
          <td class="px-6 py-4">
            {{ sale.sale_date.strftime('%Y-%m-%d %H:%M') }}
          </td>
          <td class="px-6 py-4 space-x-3">
            <a
              href="{{ url_for('edit_sale', sale_id=sale.id) }}"
              class="inline-block bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 transition"
              >Edit</a
            >
            <form
              method="POST"
              action="{{ url_for('delete_sale', sale_id=sale.id) }}"
              class="inline"
              onsubmit="return confirm('Are you sure you want to delete this sale?');"
            >
              <button
                type="submit"
                class="inline-block bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition"
              >
                Delete
              </button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <p class="text-center text-gray-500 text-lg mt-12">No sales records found.</p>
  {% endif %}
</div>
{% endblock %}
